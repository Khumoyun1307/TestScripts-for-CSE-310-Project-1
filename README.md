# PJ1 Test Runner Scripts

Helper scripts to automatically run all **posted test cases** for the PJ1 project and check your program‚Äôs output against the expected results.

Two versions are included:

- **`run-tests.ps1`** ‚Üí PowerShell script (Windows)  
- **`run-tests.sh`** ‚Üí Bash script (Linux / WSL / MSYS2 / Git Bash)

---

## üìÇ Requirements

- A compiled `PJ1` (Linux) or `PJ1.exe` (Windows) in the same folder as the script.
- The folder `PJ1-Posted-Test-Cases` containing `test01 ‚Ä¶ test20`, each with:  
  - `Execution`  
  - `I-File`  
  - `Instructions`  
  - `O-File`  
  - `Output`

---

## ü™ü Windows (PowerShell)

Run the script with:

```powershell
powershell -ExecutionPolicy Bypass -File .\run-tests.ps1 -CasesRoot ".\PJ1-Posted-Test-Cases"
```

### What it does
- Iterates over all `testNN` folders automatically.  
- Reads the `Execution` file to extract the correct flag.  
- Feeds `Instructions` into PJ1.  
- Captures outputs:  
  - `student.Output` ‚Üí stdout (screen output)  
  - `student.O-File` ‚Üí O-File generated by PJ1  
- Compares your results with the expected `Output` and `O-File`.  
- Prints **PASS/FAIL** per test and a final summary.  

### ‚ö†Ô∏è About `ExecutionPolicy Bypass`

PowerShell blocks running local `.ps1` scripts by default for security reasons.  
Adding `-ExecutionPolicy Bypass` temporarily overrides that restriction **only for this run**.  
It does **not** change your system settings permanently.

Alternatively, you can unblock the script once and then run it normally:

```powershell
Unblock-File -Path .\run-tests.ps1
.\run-tests.ps1 -CasesRoot ".\PJ1-Posted-Test-Cases"
```

---

## üêß Linux / WSL / Git Bash / MSYS2

Run the script with:

```bash
bash run-tests.sh PJ1-Posted-Test-Cases
```

If your compiled binary is `PJ1.exe` (Windows build), run with:

```bash
EXE=./PJ1.exe bash run-tests.sh PJ1-Posted-Test-Cases
```

### What it does
- Dynamically finds all `test??` folders.  
- Reads the `Execution` file to extract the correct flag.  
- Runs PJ1 with the given `I-File` and feeds `Instructions` into stdin.  
- Produces outputs:  
  - `student.Output` ‚Üí stdout (screen output)  
  - `student.O-File` ‚Üí O-File generated by PJ1  
- Uses `diff` to compare your outputs against the expected `Output` and `O-File`.  
- Prints **PASS/FAIL** per test and a summary.  

---

## üìù Notes

- **Line endings:** The scripts normalize CRLF vs LF, so Windows/Linux differences don‚Äôt cause false fails.  
- **stderr:** Any stderr output from PJ1 (e.g., internal warnings) is saved in `student.stderr` for debugging but not compared.  
- **Same logic:** Both scripts follow the same logic; only the syntax differs by platform.  

---

## Screenshots‚úÖ 


Example run of the test runner:

![Test summary screenshot](Screenshot%202025-09-04%20193803.png)

![Another run screenshot](Screenshot%202025-09-04%20193817.png)

![More details](Screenshot%202025-09-04%20193901.png)

![Final sample](Screenshot%202025-09-04%20193918.png)

---

With these scripts, you can quickly verify your PJ1 implementation against all official posted test cases on both Windows and Linux.
